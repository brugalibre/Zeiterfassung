(function(e){function t(t){for(var i,o,c=t[0],a=t[1],u=t[2],d=0,m=[];d<c.length;d++)o=c[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&m.push(r[o][0]),r[o]=0;for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i]);l&&l(t);while(m.length)m.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],i=!0,c=1;c<n.length;c++){var a=n[c];0!==r[a]&&(i=!1)}i&&(s.splice(t--,1),e=o(o.s=n[0]))}return e}var i={},r={app:0},s=[];function o(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],a=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=a;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1225:function(e,t,n){"use strict";n("b99a")},"3a6d":function(e,t,n){},"4aae":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("7a23"),r={id:"app",class:"centered"},s={class:"content"},o={class:"timeRecordingDetailsLeftAndRightSide"},c={class:"timeRecordingDetailsLeftSide"},a={class:"timeRecordingDetailsRightSide"};function u(e,t,n,u,l,d){var m=Object(i["r"])("ZeiterfassungDashboard"),b=Object(i["r"])("SetActualHoursComparison"),p=Object(i["r"])("ZeiterfassungRecordingStatus"),f=Object(i["r"])("TicketDistribution"),h=Object(i["r"])("ZeiterfassungOverview"),D=Object(i["r"])("ZeiterfassungHistoryOverview");return Object(i["l"])(),Object(i["e"])("div",r,[Object(i["h"])(m),Object(i["f"])("div",s,[Object(i["f"])("div",o,[Object(i["f"])("div",c,[Object(i["h"])(b,{key:l.setActualHoursComparisonKey,class:"setActualHoursComparison tile",onRefreshUi:d.refreshUis},null,8,["onRefreshUi"]),Object(i["h"])(p,{key:l.zeiterfassungStatusKey,class:"zeiterfassungRecordingStatus tile",onRefreshUi:d.refreshUis,onRefreshUiWithHistory:d.refreshAllUisInclHistory},null,8,["onRefreshUi","onRefreshUiWithHistory"]),Object(i["h"])(f,{key:l.ticketDistributionOverviewKey,class:"ticketDistributionOverview tile",onRefreshUiWithHistory:d.refreshAllUisInclHistory},null,8,["onRefreshUiWithHistory"])]),Object(i["f"])("div",a,[Object(i["h"])(h,{key:l.overviewKey,class:"zeiterfassungOverview tile",onRefreshUi:d.refreshUis},null,8,["onRefreshUi"]),Object(i["h"])(D,{key:l.zeiterfassungHistoryOverviewKey,class:"zeiterfassungHistoryOverview tile"})])])])])}var l={class:"centeredText"};function d(e,t,n,r,s,o){return Object(i["l"])(),Object(i["e"])("h1",l,Object(i["s"])(s.applicationTitle),1)}n("d3b7");var m="/api/v1/timerecorder",b={name:"AppApi",data:function(){return{applicationTitle:""}},methods:{requestUiRefresh:function(){this.$emit("refreshUi")},refreshUiWithHistory:function(){this.$emit("refreshUiWithHistory")},fetchApplicationTitle:function(){var e=this;fetch(m+"/getApplicationTitle").then((function(e){return e.json()})).then((function(t){console.log("application title: "+t.applicationTitle),e.applicationTitle=t.applicationTitle}))}}},p={name:"ZeiterfassungDashboard",mixins:[b],data:function(){return{applicationTitle:""}},mounted:function(){this.applicationTitle=this.fetchApplicationTitle()}},f=n("6b0d"),h=n.n(f);const D=h()(p,[["render",d]]);var O=D,y={class:"centeredText"},j={class:"timeRecorderStatusView centered"},g={class:"container"},v=["disabled"],k=["disabled"];function R(e,t,n,r,s,o){var c=Object(i["r"])("add-businessday-increment"),a=Object(i["r"])("error-box");return Object(i["l"])(),Object(i["e"])("div",null,[Object(i["f"])("h2",y,Object(i["s"])(s.title),1),Object(i["f"])("div",j,[Object(i["f"])("div",{class:Object(i["k"])({isRecording:e.timeRecorderDto.isRecording,isNotRecording:!e.timeRecorderDto.isRecording})},Object(i["s"])(e.timeRecorderDto.statusMsg),3),Object(i["f"])("div",g,[Object(i["f"])("button",{class:"containerElement",disabled:s.isAddBusinessDayIncrementActive,onClick:t[0]||(t[0]=function(){return o.startStopRecordingAndRefresh&&o.startStopRecordingAndRefresh.apply(o,arguments)})},Object(i["s"])(e.timeRecorderDto.isRecording?"Aufzeichnung beenden":"Aufzeichnung starten"),9,v),Object(i["f"])("button",{class:"containerElement",disabled:o.isBookButtonDisabled,onClick:t[1]||(t[1]=function(){return o.bookAndRefresh&&o.bookAndRefresh.apply(o,arguments)})},"Abbuchen",8,k)])]),s.isAddBusinessDayIncrementActive?(Object(i["l"])(),Object(i["c"])(c,{key:0,initBeginTimeStampRepresentation:s.beginTimeStampRepresentation,initEndTimeStampRepresentation:s.endTimeStampRepresentation,initTicketNr:s.ticketNr,onRefreshUi:o.refreshUiState,onResumed:o.onResumed},null,8,["initBeginTimeStampRepresentation","initEndTimeStampRepresentation","initTicketNr","onRefreshUi","onResumed"])):Object(i["d"])("",!0),e.postErrorDetails?(Object(i["l"])(),Object(i["c"])(a,{key:1},{default:Object(i["x"])((function(){return[Object(i["g"])(Object(i["s"])(e.postErrorDetails),1)]})),_:1})):Object(i["d"])("",!0)])}n("a4d3"),n("e01a");var T=function(e){return Object(i["n"])("data-v-0a690252"),e=e(),Object(i["m"])(),e},S={id:"addBusinessDayIncrementForm",class:"blurBackground"},C={class:"inputForm centered tile"},B={class:"container"},I=T((function(){return Object(i["f"])("label",{for:"von"},"Von: ",-1)})),N=T((function(){return Object(i["f"])("label",{for:"upto"},"Bis: ",-1)})),A=T((function(){return Object(i["f"])("label",null,"Dauer: ",-1)})),V=T((function(){return Object(i["f"])("label",null," h",-1)})),w={class:"container containerElement100"},E=["disabled"];function H(e,t,n,r,s,o){var c=Object(i["r"])("ticket-nr-input-field"),a=Object(i["r"])("service-code-select"),u=Object(i["r"])("time-input-field"),l=Object(i["r"])("error-box");return Object(i["l"])(),Object(i["e"])("div",S,[Object(i["f"])("div",C,[Object(i["f"])("p",null,[Object(i["h"])(c,{modelValue:s.businessDayIncrement.ticketNr,"onUpdate:modelValue":t[0]||(t[0]=function(e){return s.businessDayIncrement.ticketNr=e}),class:"containerElement100",required:"",initTicketNr:s.businessDayIncrement.ticketNr,onTicketNrChanged:o.onTicketNrChanged},null,8,["modelValue","initTicketNr","onTicketNrChanged"])]),Object(i["f"])("div",null,[Object(i["y"])(Object(i["f"])("input",{id:"description","onUpdate:modelValue":t[1]||(t[1]=function(e){return s.businessDayIncrement.description=e}),class:"descriptionInput",name:"description",placeholder:"Beschreibung",type:"text"},null,512),[[i["u"],s.businessDayIncrement.description]])]),Object(i["f"])("p",null,[Object(i["h"])(a,{modelValue:s.businessDayIncrement.serviceCodeDto,"onUpdate:modelValue":t[2]||(t[2]=function(e){return s.businessDayIncrement.serviceCodeDto=e}),class:"containerElement100",initialServiceCode:s.businessDayIncrement.serviceCodeDto.value,initialServiceCodeRepresentation:s.businessDayIncrement.serviceCodeDto.representation,ticketNr:s.businessDayIncrement.ticketNr},null,8,["modelValue","initialServiceCode","initialServiceCodeRepresentation","ticketNr"])]),Object(i["f"])("p",B,[I,Object(i["h"])(u,{id:"beginTimeStamp",modelValue:s.businessDayIncrement.beginTimeValue,"onUpdate:modelValue":t[3]||(t[3]=function(e){return s.businessDayIncrement.beginTimeValue=e}),name:"beginTimeStamp",required:"",initTimeRepresentation:s.businessDayIncrement.beginTimeValue.timeRepresentation,onTimeRepChanged:o.onBeginTimeRepChanged},null,8,["modelValue","initTimeRepresentation","onTimeRepChanged"]),N,Object(i["h"])(u,{id:"endTimeStamp",modelValue:s.businessDayIncrement.endTimeValue,"onUpdate:modelValue":t[4]||(t[4]=function(e){return s.businessDayIncrement.endTimeValue=e}),name:"endTimeStamp",required:"",initTimeRepresentation:s.businessDayIncrement.endTimeValue.timeRepresentation,onTimeRepChanged:o.onEndTimeRepChanged},null,8,["modelValue","initTimeRepresentation","onTimeRepChanged"])]),Object(i["f"])("p",null,[A,Object(i["y"])(Object(i["f"])("input",{id:"duration","onUpdate:modelValue":t[5]||(t[5]=function(e){return s.businessDayIncrement.currentDuration=e}),class:"timeInputField",name:"duration",required:"",type:"number"},null,512),[[i["u"],s.businessDayIncrement.currentDuration]]),V]),Object(i["f"])("p",w,[Object(i["f"])("button",{disabled:o.isSubmitButtonDisabled,class:"containerElement",onClick:t[6]||(t[6]=function(e){return o.addBusinessDayIncrementAndRefresh(s.businessDayIncrement)})},"Speichern ",8,E),Object(i["f"])("button",{class:"containerElement",onClick:t[7]||(t[7]=function(){return e.resume&&e.resume.apply(e,arguments)})},"Abbrechen")])]),e.postErrorDetails?(Object(i["l"])(),Object(i["c"])(l,{key:0},{default:Object(i["x"])((function(){return[Object(i["g"])(Object(i["s"])(e.postErrorDetails),1)]})),_:1})):Object(i["d"])("",!0)])}var x=n("1da1"),U=(n("96cf"),"/api/v1/timerecorder"),K={name:"timeRecorderApi",data:function(){return{timeRecorderDto:"",ticketsFromBacklog:"",postErrorDetails:null,postRequestOptions:{method:"POST",headers:{"Content-Type":"application/json"}}}},methods:{fetchTimeRecorderDto:function(){var e=this;fetch(U).then((function(e){return e.json()})).then((function(t){return e.timeRecorderDto=t}))},startStopRecording:function(){var e=this;fetch(U+"/startStopRecording",this.postRequestOptions).then(function(){var t=Object(x["a"])(regeneratorRuntime.mark((function t(n){var i,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.text();case 2:return i=t.sent,t.next=5,i?JSON.parse(i):{};case 5:if(r=t.sent,n.ok){t.next=10;break}return s=r&&r.message||n.status,e.postErrorDetails=r,t.abrupt("return",Promise.reject(s));case 10:e.addNewBusinessDayIncrementDto=r,e.ticketNr=e.addNewBusinessDayIncrementDto.businessDayIncrementDto.ticketDto.ticketNr,e.beginTimeStampRepresentation=e.addNewBusinessDayIncrementDto.businessDayIncrementDto.timeSnippetDto.beginTimeStampRepresentation,e.endTimeStampRepresentation=e.addNewBusinessDayIncrementDto.businessDayIncrementDto.timeSnippetDto.endTimeStampRepresentation,e.isAddBusinessDayIncrementActive=null!==e.beginTimeStampRepresentation&&null!==e.endTimeStampRepresentation,console.info("begin: "+e.beginTimeStampRepresentation+", end: "+e.endTimeStampRepresentation+", is active: "+e.isAddBusinessDayIncrementActive);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){return console.error("Error occurred while start/stop businessDayIncrement",e)}))},resume:function(){var e=this;fetch(U+"/resume",this.postRequestOptions).then((function(e){return e.json()})).then((function(t){return e.postId=t.id})).catch((function(e){return console.error("Error occurred while resuming",e)})),this.$emit("resumed")},book:function(){var e=this;fetch(U+"/book",this.postRequestOptions).then((function(e){return e.json()})).then((function(t){return e.postId=t.id})).catch((function(e){return console.error("Error occurred while booking",e)}))}}},z="/api/v1/businessday",P={name:"BusinessDayApi",data:function(){return{postErrorDetails:null,deleteRequestOptions:{method:"DELETE",headers:{"Content-Type":"application/json"}},postRequestOptions:{method:"POST",headers:{"Content-Type":"application/json"}}}},methods:{fetchBusinessDayDto:function(){var e=this;fetch(z).then((function(e){return e.json()})).then((function(t){return e.$store.dispatch("setBusinessDay",t)})).catch((function(e){return console.error("Error occurred while fetching businessDay",e)}))},addBusinessDayIncrement:function(e){var t=this,n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:e.description,serviceCodeDto:{value:e.serviceCodeDto.value,representation:e.serviceCodeDto.representation},ticketDto:{ticketNr:e.ticketNr},timeSnippetDto:{beginTimeStampRepresentation:e.beginTimeValue.timeRepresentation,endTimeStampRepresentation:e.endTimeValue.timeRepresentation}})};fetch(z,n).then(function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(n){var i,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.text();case 2:return i=e.sent,e.next=5,i?JSON.parse(i):{};case 5:if(r=e.sent,n.ok){e.next=12;break}return s=r&&r.message||n.status,t.postErrorDetails=r,e.abrupt("return",Promise.reject(s));case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.error("Error occurred while adding a new businessDayIncrement",e)}))},changeBusinessDayIncrement:function(e){var t=this,n={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.id,description:e.description,serviceCodeDto:{value:e.serviceCodeDto.value,representation:e.serviceCodeDto.representation},isBooked:!1,totalDurationRep:e.totalDurationRep,ticketDto:{ticketNr:e.ticketDto.ticketNr,bookable:e.ticketDto.bookable},timeSnippetDto:{id:e.timeSnippetDto.id,durationRep:e.timeSnippetDto.durationRep,beginTimeStampRepresentation:e.timeSnippetDto.beginTimeStampRepresentation,endTimeStampRepresentation:e.timeSnippetDto.endTimeStampRepresentation}})};this.postErrorDetails=null,fetch(z,n).then(function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(n){var i,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.text();case 2:return i=e.sent,e.next=5,i?JSON.parse(i):{};case 5:if(r=e.sent,n.ok){e.next=10;break}return s=r&&r.message||n.status,t.postErrorDetails=r,e.abrupt("return",Promise.reject(s));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(t){return console.error("Error occurred while changing businessDayIncrement'"+e+"'",t)}))},deleteBusinessDayIncrement:function(e){var t=this;fetch(z+"/"+e.id,this.deleteRequestOptions).then((function(e){return e.json()})).then((function(e){return t.postId=e.id})).catch((function(t){console.error("Error occurred during deleting businessDayIncrement'"+e+"'",t)}))},deleteAll:function(){var e=this;fetch(z+"/deleteAll",this.deleteRequestOptions).then((function(e){return e.json()})).then((function(t){return e.postId=t.id})).catch((function(e){console.error("Error occurred during deleting all businessDayIncrements",e)}))}}},W=(n("35b3"),n("a9e3"),{name:"date-calculations",methods:{getNumberWithLeadingZero:function(e){return e<10?"0"+e:e},createDateNowWithTime:function(e){var t=(new Date).toISOString(),n=t.substring(0,t.indexOf("T")+1);return new Date(n+e)},calculateDateFromDuration:function(e,t){var n=e.getMinutes()+60*t,i=new Date(e.valueOf());i.setMinutes(n),console.log("Total hours '"+i.getHours()+", total minutes '"+i.getMinutes()+" (total '"+n+"')");var r=this.getNumberWithLeadingZero(i.getHours()),s=this.getNumberWithLeadingZero(i.getMinutes()),o=r+":"+s;console.log("New end-time snippet: '"+o+"'");var c={};return c.timeRepresentation=o,c.timeValue=this.createDateNowWithTime(o),c},beginOrEndTimeStampChanged:function(e,t){var n=60*t.getHours()+t.getMinutes(),i=60*e.getHours()+e.getMinutes(),r=(n-i)/60,s=Math.round(100*(r+Number.EPSILON))/100;return console.log("Time between changed begin and end time stamp: ["+s+" h]"),s}}}),q={class:"error-box"},M=Object(i["f"])("strong",null,"Fehler!",-1);function Z(e,t){return Object(i["l"])(),Object(i["e"])("div",q,[M,Object(i["f"])("div",null,[Object(i["q"])(e.$slots,"default")])])}n("d0cc");const _={},L=h()(_,[["render",Z]]);var F=L,$=["selected","value"];function J(e,t,n,r,s,o){return Object(i["y"])((Object(i["l"])(),Object(i["e"])("select",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return s.serviceCodeDto=e})},[(Object(i["l"])(!0),Object(i["e"])(i["a"],null,Object(i["p"])(s.possibleServiceCodes,(function(e,t){return Object(i["l"])(),Object(i["e"])("option",{key:e,selected:0===t,value:e},Object(i["s"])(e.representation),9,$)})),128))],512)),[[i["t"],s.serviceCodeDto]])}var G="/api/v1/ticketbacklog",Q={name:"TicketBacklogApi",data:function(){return{tickets:"",possibleServiceCodes:""}},methods:{fetchServiceCodes:function(e){var t=this;fetch(G+"/fetchServiceCodes/"+e).then(function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(n){var i,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.text();case 2:return i=e.sent,e.next=5,i?JSON.parse(i):{};case 5:if(r=e.sent,n.ok){e.next=11;break}return s=r&&r.message||n.status,e.abrupt("return",Promise.reject(s));case 11:t.possibleServiceCodes=r;case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.error("Error occurred while fetching seviceCodes",e)}))},fetchTicketsFromBacklog:function(){var e=this;fetch(G+"/fetchTicketsFromBacklog").then((function(e){return e.json()})).then((function(t){e.tickets=t}))}}},X={props:["ticketNr","initialServiceCode","initialServiceCodeRepresentation"],name:"ServiceCodeSelect",mixins:[Q],data:function(){return{serviceCodeDto:{value:this.initialServiceCode,representation:this.initialServiceCodeRepresentation},possibleServiceCodes:""}},watch:{ticketNr:{handler:function(e,t){console.log("Changed ticket from "+t+" to "+e),this.fetchServiceCodes(e)}}},mounted:function(){this.fetchServiceCodes(this.ticketNr)}};const Y=h()(X,[["render",J]]);var ee=Y;function te(e,t,n,r,s,o){return Object(i["l"])(),Object(i["e"])("div",null,[Object(i["y"])(Object(i["f"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return s.timeValueOject.timeRepresentation=e}),required:"",type:"time"},null,512),[[i["u"],s.timeValueOject.timeRepresentation]])])}var ne={name:"TimeInput",mixins:[W],props:["initTimeRepresentation"],emits:["timeRepChanged"],data:function(){return{timeValueOject:{timeRepresentation:this.initTimeRepresentation,timeValue:""}}},methods:{onTimeRepChanged:function(){this.$emit("timeRepChanged",this.timeValueOject)},calcTimeValue:function(){return this.createDateNowWithTime(this.timeValueOject.timeRepresentation)}},mounted:function(){this.timeValueOject.timeValue=this.calcTimeValue()},watch:{"timeValueOject.timeRepresentation":function(e,t){console.log("timeValueOject.timeRepresentation: Changed time from old '"+t+", to new '"+e),this.timeValueOject.timeValue=this.calcTimeValue()},"timeValueOject.timeValue":function(e,t){console.log("timeValueOject.timeValue: Changed time from old '"+t+", to new '"+e),this.onTimeRepChanged()}}};const ie=h()(ne,[["render",te]]);var re=ie,se={class:"ticktNrInputAndSelect"},oe=["value"];function ce(e,t,n,r,s,o){return Object(i["l"])(),Object(i["e"])("div",se,[Object(i["y"])(Object(i["f"])("input",{id:"ticktNrInput","onUpdate:modelValue":t[0]||(t[0]=function(e){return s.ticketNr=e}),class:"ticktNrInput",name:"ticketNr",placeholder:"Ticket-Nr.",type:"text",onInput:t[1]||(t[1]=function(e){return o.ticketNrChanged(e)})},null,544),[[i["u"],s.ticketNr]]),Object(i["y"])(Object(i["f"])("select",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return s.ticketNr=e}),class:"ticktNrSelect",onChange:t[3]||(t[3]=function(e){return o.ticketNrChanged(e)}),onKeyup:t[4]||(t[4]=Object(i["z"])((function(e){return o.ticketNrChanged(e)}),["enter"]))},[(Object(i["l"])(!0),Object(i["e"])(i["a"],null,Object(i["p"])(e.tickets,(function(e){return Object(i["l"])(),Object(i["e"])("option",{key:e,value:e.ticketNr},Object(i["s"])(e.ticketRepresentation),9,oe)})),128))],544),[[i["t"],s.ticketNr]])])}var ae={name:"TicketNrInputField",props:["initTicketNr"],emits:["ticketNrChanged"],mixins:[Q],data:function(){return{ticketNr:this.initTicketNr}},methods:{ticketNrChanged:function(e){this.$emit("ticketNrChanged",e.target.value)}},mounted:function(){this.fetchTicketsFromBacklog()}};n("9072");const ue=h()(ae,[["render",ce]]);var le=ue,de={name:"AddNewBusinessDayIncrement",mixins:[K,P,W,b],components:{"service-code-select":ee,"time-input-field":re,"ticket-nr-input-field":le,"error-box":F},props:["initBeginTimeStampRepresentation","initEndTimeStampRepresentation","initTicketNr"],data:function(){return{businessDayIncrement:{currentDuration:0,ticketNr:this.initTicketNr,description:"",serviceCodeDto:{value:"",representation:""},beginTimeValue:{timeRepresentation:this.initBeginTimeStampRepresentation,timeValue:null},endTimeValue:{timeRepresentation:this.initEndTimeStampRepresentation,timeValue:null},possibleServiceCodes:""}}},watch:{"businessDayIncrement.currentDuration":function(e,t){console.log("Changed duration from old '"+t+", to new '"+e);var n=this.calculateDateFromDuration(this.businessDayIncrement.beginTimeValue.timeValue,e);this.businessDayIncrement.endTimeValue.timeValue=n.timeValue,this.businessDayIncrement.endTimeValue.timeRepresentation=n.timeRepresentation}},methods:{addBusinessDayIncrementAndRefresh:function(e){var t=this;this.addBusinessDayIncrement(e),setTimeout((function(){return t.requestUiRefresh()}),1e3),console.log("AddNewBusinessDayInc: refresh Ui requested")},onBeginTimeRepChanged:function(e){console.log("On-Begin-Time-Rep-Changed '"+e.timeValue+", amount of Hours '"+e.timeValue.getHours()+"', amount of minutes '"+e.timeValue.getMinutes()+"'"),this.businessDayIncrement.beginTimeValue=e,null!==this.businessDayIncrement.endTimeValue.timeValue&&(this.businessDayIncrement.currentDuration=this.beginOrEndTimeStampChanged(e.timeValue,this.businessDayIncrement.endTimeValue.timeValue))},onEndTimeRepChanged:function(e){console.log("On-End-Time-Rep-Changed '"+e+", amount of Hours '"+e.timeValue.getHours()+"', amount of minutes '"+e.timeValue.getMinutes()+"'"),this.businessDayIncrement.endTimeValue=e,null!==this.businessDayIncrement.beginTimeValue.timeValue&&(this.businessDayIncrement.currentDuration=this.beginOrEndTimeStampChanged(this.businessDayIncrement.beginTimeValue.timeValue,e.timeValue))},onTicketNrChanged:function(e){this.businessDayIncrement.ticketNr=e}},computed:{isSubmitButtonDisabled:function(){return!this.businessDayIncrement.ticketNr||!this.businessDayIncrement.serviceCodeDto.value||!this.businessDayIncrement.endTimeValue.timeRepresentation||!this.businessDayIncrement.beginTimeValue.timeRepresentation||this.businessDayIncrement.currentDuration<=0}}};n("57b0");const me=h()(de,[["render",H],["__scopeId","data-v-0a690252"]]);var be=me,pe={name:"ZeiterfassungRecordingStatus",mixins:[K,b],components:{"add-businessday-increment":be,"error-box":F},data:function(){return{title:"Aktueller Status:",isAddBusinessDayIncrementActive:!1,ticketNr:"",beginTimeStampRepresentation:"",endTimeStampRepresentation:""}},computed:{isBookButtonDisabled:function(){return!this.timeRecorderDto.isBookingPossible}},methods:{bookAndRefresh:function(){this.book(),this.refreshUiWithHistory()},startStopRecordingAndRefresh:function(){this.startStopRecording(),this.fetchTimeRecorderDto()},onResumed:function(){console.log("onResumed.."),this.isAddBusinessDayIncrementActive=!1,this.refreshUiState()},refreshUiState:function(){console.log("ZeiterfassungRecordStatus: refreshUiStates"),this.requestUiRefresh()}},mounted:function(){this.fetchTimeRecorderDto()}};n("a14a");const fe=h()(pe,[["render",R],["__scopeId","data-v-7c12b71b"]]);var he=fe,De=function(e){return Object(i["n"])("data-v-4a9ddc8c"),e=e(),Object(i["m"])(),e},Oe={class:"centeredText"},ye={class:"tableAndBottom"},je=De((function(){return Object(i["f"])("tr",null,[Object(i["f"])("th",{id:"amountOfHours"},"Anzahl Stunden"),Object(i["f"])("th",{id:"ticket",class:"ticketNrCell"},"Ticket"),Object(i["f"])("th",{id:"description",class:"descriptionCell"},"Beschreibung"),Object(i["f"])("th",{id:"from"},"Von"),Object(i["f"])("th",{id:"upto"},"Bis"),Object(i["f"])("th",{id:"servicecode",class:"serviceCodeCell"},"Leistungsart"),Object(i["f"])("th",{id:"booked"},"Abgebucht"),Object(i["f"])("th",{id:"delete"},"Eintrag löschen")],-1)})),ge=["onClick"],ve=["onUpdate:modelValue","onBlur","onKeydown","onKeyup"],ke={class:"ticketNrCell"},Re=["onClick"],Te={class:"editableTableCell"},Se=["onClick"],Ce=["onUpdate:modelValue","onBlur","onKeydown","onKeyup"],Be=["onClick"],Ie=["onUpdate:modelValue","onKeydown","onKeyup"],Ne=["onClick"],Ae=["onUpdate:modelValue","onKeydown","onKeyup"],Ve={class:"serviceCodeCell"},we=["onClick"],Ee=["disabled","onClick"],He=De((function(){return Object(i["f"])("div",null,null,-1)})),xe={class:"bottom"},Ue=["disabled"];function Ke(e,t,n,r,s,o){var c=Object(i["r"])("ticket-nr-input-field"),a=Object(i["r"])("service-code-select"),u=Object(i["r"])("error-box");return Object(i["l"])(),Object(i["e"])("div",null,[Object(i["f"])("h2",Oe,Object(i["s"])(s.title),1),Object(i["f"])("div",ye,[Object(i["f"])("table",null,[je,(Object(i["l"])(!0),Object(i["e"])(i["a"],null,Object(i["p"])(o.businessDay.businessDayIncrementDtos,(function(e){return Object(i["l"])(),Object(i["e"])("tr",{key:e.id,class:Object(i["k"])({isBookedRecord:e.isBooked})},[Object(i["f"])("td",null,[Object(i["y"])(Object(i["f"])("div",null,[Object(i["f"])("label",{onClick:function(t){e.isDurationRepEditable=!0}},Object(i["s"])(e.timeSnippetDto.durationRep),9,ge)],512),[[i["v"],!e.isDurationRepEditable||e.isBooked]]),Object(i["y"])(Object(i["f"])("input",{"onUpdate:modelValue":function(t){return e.timeSnippetDto.durationRep=t},name:"durationRep",onBlur:function(t){e.isDurationRepEditable=!1},onKeydown:Object(i["z"])((function(t){return e.isDurationRepEditable=!1}),["esc"]),onKeyup:Object(i["z"])((function(t){e.isDurationRepEditable=!1,o.changeBusinessDayIncrementAndRefresh(e)}),["enter"])},null,40,ve),[[i["v"],e.isDurationRepEditable&&!e.isBooked],[i["u"],e.timeSnippetDto.durationRep]])]),Object(i["f"])("td",null,[Object(i["y"])(Object(i["f"])("div",ke,[Object(i["f"])("label",{onClick:function(t){e.isTicketNrEditable=!0}},Object(i["s"])(e.ticketDto.ticketNr),9,Re)],512),[[i["v"],!e.isTicketNrEditable||e.isBooked]]),Object(i["y"])(Object(i["h"])(c,{modelValue:e.ticketDto.ticketNr,"onUpdate:modelValue":function(t){return e.ticketDto.ticketNr=t},initTicketNr:e.ticketDto.ticketNr,onChange:function(t){e.isTicketNrEditable=!1,o.changeBusinessDayIncrementAndRefresh(e)},onTicketNrChanged:function(t){return o.onTicketNrChanged(e,t)},onBlur:function(t){return e.isTicketNrEditable=!1},onKeydown:Object(i["z"])((function(t){return e.isTicketNrEditable=!1}),["esc"]),onKeyup:Object(i["z"])((function(t){e.isTicketNrEditable=!1,o.changeBusinessDayIncrementAndRefresh(e)}),["enter"])},null,8,["modelValue","onUpdate:modelValue","initTicketNr","onChange","onTicketNrChanged","onBlur","onKeydown","onKeyup"]),[[i["v"],e.isTicketNrEditable&&!e.isBooked]])]),Object(i["f"])("td",Te,[Object(i["y"])(Object(i["f"])("div",null,[Object(i["f"])("label",{onClick:function(t){e.isDescriptionEditable=!0}},Object(i["s"])(e.description),9,Se)],512),[[i["v"],!e.isDescriptionEditable||e.isBooked]]),Object(i["y"])(Object(i["f"])("input",{"onUpdate:modelValue":function(t){return e.description=t},class:"descriptionCell",name:"description",onBlur:function(t){e.isDescriptionEditable=!1},onKeydown:Object(i["z"])((function(t){return e.isDescriptionEditable=!1}),["esc"]),onKeyup:Object(i["z"])((function(t){e.isDescriptionEditable=!1,o.changeBusinessDayIncrementAndRefresh(e)}),["enter"])},null,40,Ce),[[i["v"],e.isDescriptionEditable&&!e.isBooked],[i["u"],e.description]])]),Object(i["f"])("td",null,[Object(i["y"])(Object(i["f"])("div",null,[Object(i["f"])("label",{onClick:function(t){e.isBeginTimeStampEditable=!0}},Object(i["s"])(e.timeSnippetDto.beginTimeStampRepresentation),9,Be)],512),[[i["v"],!e.isBeginTimeStampEditable||e.isBooked]]),Object(i["y"])(Object(i["f"])("input",{id:"beginTimeStamp","onUpdate:modelValue":function(t){return e.timeSnippetDto.beginTimeStampRepresentation=t},name:"beginTimeStamp",type:"time",onKeydown:Object(i["z"])((function(t){return e.isBeginTimeStampEditable=!1}),["esc"]),onKeyup:Object(i["z"])((function(t){e.isBeginTimeStampEditable=!1,o.changeBusinessDayIncrementAndRefresh(e)}),["enter"])},null,40,Ie),[[i["v"],e.isBeginTimeStampEditable&&!e.isBooked],[i["u"],e.timeSnippetDto.beginTimeStampRepresentation]])]),Object(i["f"])("td",null,[Object(i["y"])(Object(i["f"])("div",null,[Object(i["f"])("label",{onClick:function(t){e.isEndTimeStampEditable=!0}},Object(i["s"])(e.timeSnippetDto.endTimeStampRepresentation),9,Ne)],512),[[i["v"],!e.isEndTimeStampEditable||e.isBooked]]),Object(i["y"])(Object(i["f"])("input",{id:"timeInput","onUpdate:modelValue":function(t){return e.timeSnippetDto.endTimeStampRepresentation=t},name:"beginTimeStamp",type:"time",onKeydown:Object(i["z"])((function(t){return e.isEndTimeStampEditable=!1}),["esc"]),onKeyup:Object(i["z"])((function(t){e.isBeginTimeStampEditable=!1,o.changeBusinessDayIncrementAndRefresh(e)}),["enter"])},null,40,Ae),[[i["v"],e.isEndTimeStampEditable&&!e.isBooked],[i["u"],e.timeSnippetDto.endTimeStampRepresentation]])]),Object(i["f"])("td",null,[Object(i["y"])(Object(i["f"])("div",Ve,[Object(i["f"])("label",{onClick:function(t){e.isServiceCodeEditable=!0}},Object(i["s"])(e.serviceCodeDto.representation),9,we)],512),[[i["v"],!e.isServiceCodeEditable||e.isBooked]]),Object(i["y"])(Object(i["h"])(a,{modelValue:e.serviceCodeDto,"onUpdate:modelValue":function(t){return e.serviceCodeDto=t},initialServiceCode:e.serviceCodeDto.value,initialServiceCodeRepresentation:e.serviceCodeDto.representation,ticketNr:e.ticketDto.ticketNr,onChange:function(t){o.changeBusinessDayIncrementAndRefresh(e),e.isServiceCodeEditable=!1},onKeydown:Object(i["z"])((function(t){return e.isServiceCodeEditable=!1}),["esc"]),onKeyup:Object(i["z"])((function(t){e.isServiceCodeEditable=!1,o.changeBusinessDayIncrementAndRefresh(e)}),["enter"])},null,8,["modelValue","onUpdate:modelValue","initialServiceCode","initialServiceCodeRepresentation","ticketNr","onChange","onKeydown","onKeyup"]),[[i["v"],e.isServiceCodeEditable&&!e.isBooked]])]),Object(i["f"])("td",null,Object(i["s"])(e.isBooked?"Ja":"Nein"),1),Object(i["f"])("td",null,[Object(i["f"])("button",{disabled:e.isBooked,class:Object(i["k"])({deleteButton:!e.isBooked,inactiveDeleteButton:e.isBooked}),onClick:function(t){return o.deleteBusinessDayIncrementAndRefresh(e)}},null,10,Ee)])],2)})),128))]),He,Object(i["f"])("div",xe,[Object(i["f"])("div",null,[Object(i["f"])("label",null,"Gesamt Anzahl Stunden: "+Object(i["s"])(o.businessDay.totalDurationRep)+"h",1)]),Object(i["f"])("button",{disabled:o.isDeleteAllButtonDisabled,onClick:t[0]||(t[0]=function(){return o.deleteAllAndRefresh&&o.deleteAllAndRefresh.apply(o,arguments)})},"Alles löschen",8,Ue)])]),e.postErrorDetails?(Object(i["l"])(),Object(i["c"])(u,{key:0},{default:Object(i["x"])((function(){return[Object(i["g"])(Object(i["s"])(e.postErrorDetails),1)]})),_:1})):Object(i["d"])("",!0)])}var ze={name:"ZeiterfassungOverview",mixins:[K,P,b],components:{"service-code-select":ee,"ticket-nr-input-field":le,"error-box":F},data:function(){return{title:"Verwaltung der aufgezeichneten Stunden:"}},computed:{isDeleteAllButtonDisabled:function(){return!this.businessDay.isDeleteAllPossible},businessDay:function(){return this.$store.getters.businessDay}},methods:{onTicketNrChanged:function(e,t){e.ticketDto.ticketNr=t},deleteBusinessDayIncrementAndRefresh:function(e){this.deleteBusinessDayIncrement(e),this.requestUiRefresh()},deleteAllAndRefresh:function(){this.deleteAll(),this.requestUiRefresh()},changeBusinessDayIncrementAndRefresh:function(e){this.changeBusinessDayIncrement(e),this.requestUiRefresh()}},mounted:function(){this.fetchBusinessDayDto()}};n("99c3");const Pe=h()(ze,[["render",Ke],["__scopeId","data-v-4a9ddc8c"]]);var We=Pe,qe={class:"centeredText"};function Me(e,t,n,r,s,o){var c=Object(i["r"])("pie-chart");return Object(i["l"])(),Object(i["e"])("div",null,[Object(i["f"])("h2",qe,Object(i["s"])(s.title),1),Object(i["h"])(c,{id:"set-actual-pie-chart",colors:["#004587","#358fe6"],data:e.setActualWorkingPieChartData,round:2,class:"centered",donut:"true",empty:"Keine Daten",height:"230px",legend:"bottom",loading:"Lade Daten...",suffix:"h",width:"230px"},null,8,["data"]),Object(i["f"])("label",null,"Tagessoll: "+Object(i["s"])(e.setHours)+"h",1)])}var Ze="/api/v1/businessdayconfig",_e={name:"setActualWorkingPieApi",data:function(){return{setActualWorkingPieChartData:{},setHours:0}},methods:{fetchSetActualWorkingPieChartData:function(){var e=this;fetch(Ze).then((function(e){return e.json()})).then((function(t){e.setActualWorkingHoursDto=t,e.setActualWorkingPieChartData=[["Bereits geleistete Stunden ("+e.setActualWorkingHoursDto.actualHours+")",e.setActualWorkingHoursDto.actualHours],["Rest Stunden ("+e.setActualWorkingHoursDto.hoursLeft+")",e.setActualWorkingHoursDto.hoursLeft]],e.setHours=e.setActualWorkingHoursDto.setHours}))}}},Le={name:"SetActualComparison",mixins:[_e],data:function(){return{title:"Tagesübersicht"}},mounted:function(){this.fetchSetActualWorkingPieChartData()}};const Fe=h()(Le,[["render",Me]]);var $e=Fe,Je={class:"centeredText"};function Ge(e,t,n,r,s,o){var c=Object(i["r"])("column-chart");return Object(i["l"])(),Object(i["e"])("div",null,[Object(i["f"])("h2",Je,Object(i["s"])(s.title),1),Object(i["f"])("div",null,[Object(i["h"])(c,{data:o.businessDayHistoryChartData,dataset:{borderColor:"#004587",backgroundColor:"#358fe6"},empty:"Keine Daten",loading:"Lade Daten...",suffix:"h",xtitle:"Tage",ytitle:"Stunden"},null,8,["data"])])])}var Qe="/api/v1/businessday-history",Xe={name:"BusinessDayHistoryApi",methods:{fetchBusinessDayHistoryChartData:function(){var e=this;fetch(Qe).then((function(e){return e.json()})).then((function(t){return e.$store.dispatch("setBusinessDayHistoryOverviewDto",t)})).catch((function(e){return console.error("Error occurred while fetching businessDay-history",e)}))}}},Ye={name:"BusinessDayHistoryChart",mixins:[Xe],computed:{businessDayHistoryChartData:function(){return this.$store.getters.businessDayHistoryChartData}},data:function(){return{title:"Monatsübersicht Buchungen"}},mounted:function(){this.fetchBusinessDayHistoryChartData()}};const et=h()(Ye,[["render",Ge]]);var tt=et,nt={class:"centeredText"};function it(e,t,n,r,s,o){var c=Object(i["r"])("pie-chart");return Object(i["l"])(),Object(i["e"])("div",null,[Object(i["f"])("h2",nt,Object(i["s"])(s.title),1),Object(i["h"])(c,{id:"ticket-distribution-pie-chart",data:o.ticketDistributionChartData,round:2,class:"centered",empty:"Keine Daten",height:"230px",legend:"bottom",loading:"Lade Daten...",suffix:"%",width:"230px"},null,8,["data"])])}var rt={name:"TicketDistribution",computed:{ticketDistributionChartData:function(){return this.$store.getters.ticketDistributionChartData}},data:function(){return{title:"Monatsübersicht Projekte"}}};const st=h()(rt,[["render",it]]);var ot=st,ct={name:"App",mixins:[b],components:{TicketDistribution:ot,ZeiterfassungDashboard:O,ZeiterfassungRecordingStatus:he,ZeiterfassungOverview:We,SetActualHoursComparison:$e,ZeiterfassungHistoryOverview:tt},data:function(){return{applicationTitle:"",overviewKey:0,ticketDistributionOverviewKey:0,zeiterfassungStatusKey:0,setActualHoursComparisonKey:0,zeiterfassungHistoryOverviewKey:0}},watch:{applicationTitle:{immediate:!0,handler:function(){document.title=this.applicationTitle}}},methods:{refreshUis:function(){this.setActualHoursComparisonKey+=1,this.overviewKey+=1,this.zeiterfassungStatusKey+=1,this.ticketDistributionOverviewKey+=1,console.log("App.vue: Refresh requested!")},refreshAllUisInclHistory:function(){this.refreshUis(),this.zeiterfassungHistoryOverviewKey+=1,console.log("App.vue: Refresh requested incl. history!")}},created:function(){this.applicationTitle=this.fetchApplicationTitle()}};n("1225");const at=h()(ct,[["render",u]]);var ut=at,lt=n("d842"),dt=(n("3c0b"),n("a630"),n("3ca3"),n("5502")),mt=Object(dt["a"])({state:{businessDay:{businessDayIncrementDtos:""},businessDayHistoryOverviewDto:{businessDayHistoryDtos:[{dateRepresentation:String},{date:Date},{bookedHours:String}],ticketDistributionDto:{ticketDistributionDtoEntries:[{ticketNr:String},{percentage:Number}]}}},getters:{ticketDistributionChartData:function(e,t){var n=t.ticketDistributionDtoEntries;return Array.from(n,(function(e){return[e.ticketNr,e.percentage]}))},businessDayHistoryChartData:function(e,t){var n=t.businessDayHistoryDtos;return Array.from(n,(function(e){return[e.dateRepresentation,e.bookedHours]}))},ticketDistributionDtoEntries:function(e){return e.businessDayHistoryOverviewDto.ticketDistributionDto.ticketDistributionDtoEntries},businessDayHistoryDtos:function(e){return e.businessDayHistoryOverviewDto.businessDayHistoryDtos},businessDay:function(e){return e.businessDay}},mutations:{setBusinessDayHistoryOverviewDto:function(e,t){e.businessDayHistoryOverviewDto=t},setBusinessDay:function(e,t){e.businessDay=t}},actions:{setBusinessDayHistoryOverviewDto:function(e,t){e.commit("setBusinessDayHistoryOverviewDto",t)},setBusinessDay:function(e,t){e.commit("setBusinessDay",t)}}}),bt=Object(i["b"])(ut);bt.use(lt["a"]),bt.use(mt),bt.mount("#app")},"57b0":function(e,t,n){"use strict";n("645f")},"645f":function(e,t,n){},"792b":function(e,t,n){},"7e76":function(e,t,n){},9072:function(e,t,n){"use strict";n("4aae")},"99c3":function(e,t,n){"use strict";n("3a6d")},a14a:function(e,t,n){"use strict";n("7e76")},b99a:function(e,t,n){},d0cc:function(e,t,n){"use strict";n("792b")}});
//# sourceMappingURL=app.df011b07.js.map